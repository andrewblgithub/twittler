<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <script src="jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
    <script src="data_generator.js"></script>
  </head>

  <body>
    <br>
    <div class="container">
      <button class="btn btn-primary" id="refresh">Refresh Feed</button>
    </div>
    <br>
    <div class="container">
      <div class="list-group" id="feed">
        
      </div>
    </div>

    <script>
    
      function getStream() {
        var $feed = $('#feed');
        $feed.html('');
        var index = streams.home.length - 1;
        
        while(index >= 0){
          var tweet = streams.home[index];
          
          var time = tweet.created_at.toString().slice(0, 24);
          
          var user = tweet.user;
          
          var $tweet = $('<a href="#" class="list-group-item list-group-item-action"></a>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          var $time = $('<footer></footer>')
          $time.text(time);
          $time.appendTo($tweet);
          $tweet.appendTo($feed);
          index -= 1;

          console.log(user.toString());
        }
      }
      
      $('#refresh').click(function(){getStream();});

      $(document).ready(getStream());
      
    </script>
  </body>
</html>
